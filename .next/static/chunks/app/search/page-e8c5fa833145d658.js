(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[797],{5568:function(e,t,s){Promise.resolve().then(s.bind(s,6697))},6697:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var r=s(7437),i=s(2265),a=s(1396),l=s.n(a),n=s(6691),o=s.n(n),c=s(7823),m=s(8800),d=s(345);let h=e=>e&&(e.startsWith("data:image/")||e.includes("storage.googleapis.com")||e.includes("supabase.co"))?e:d.WF;function u(){let[e,t]=(0,i.useState)(""),[s,a]=(0,i.useState)([]),[n,u]=(0,i.useState)([]),[x,p]=(0,i.useState)(!0),[g,w]=(0,i.useState)(!1),{addItem:j}=(0,m.x)();(0,i.useEffect)(()=>{let e=async()=>{try{p(!0);let{data:e,error:t}=await c.OQ.from("products").select("*").order("name");if(t)throw t;e&&(u(e),a(e))}catch(e){console.error("Erro ao buscar produtos:",e)}finally{p(!1)}};e()},[]);let f=e=>{if(t(e),w(!0),!e.trim()){a(n),w(!1);return}let s=e.toLowerCase(),r=n.filter(e=>e.name.toLowerCase().includes(s)||e.description&&e.description.toLowerCase().includes(s));a(r),w(!1)},y=e=>{j({id:e.id,name:e.name,price:e.price,imageUrl:e.image_url&&h(e.image_url)||void 0})};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 pb-24 md:pb-8",children:[(0,r.jsx)("header",{className:"bg-white shadow-sm sticky top-0 z-30",children:(0,r.jsxs)("div",{className:"w-full px-4 py-4 flex items-center",children:[(0,r.jsx)(l(),{href:"/",className:"text-gray-600 mr-4",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),(0,r.jsx)("h1",{className:"text-xl font-bold",children:"Buscar Produtos"})]})}),(0,r.jsxs)("div",{className:"w-full px-4 py-4",children:[(0,r.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,r.jsx)("input",{type:"text",value:e,onChange:e=>f(e.target.value),className:"pl-10 pr-4 py-3 w-full bg-gray-50 border border-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:bg-white transition-colors",placeholder:"Pesquisar produtos...",autoFocus:!0}),e&&(0,r.jsx)("button",{onClick:()=>f(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400 hover:text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,r.jsx)("div",{className:"mb-6",children:x?(0,r.jsx)("div",{className:"flex justify-center py-12",children:(0,r.jsxs)("svg",{className:"animate-spin h-8 w-8 text-primary",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):g?(0,r.jsx)("div",{className:"flex justify-center py-8",children:(0,r.jsxs)("svg",{className:"animate-spin h-6 w-6 text-primary",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):0===s.length?(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 text-center",children:[(0,r.jsx)("div",{className:"flex justify-center mb-4",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,r.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Nenhum produto encontrado"}),(0,r.jsx)("p",{className:"text-gray-500",children:"Tente um termo diferente ou verifique a ortografia."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{className:"text-lg font-medium mb-4",children:e?'Resultados para "'.concat(e,'" (').concat(s.length,")"):"Todos os produtos (".concat(s.length,")")}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-3 md:gap-5",children:s.map(e=>(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-200 overflow-hidden flex flex-col",children:[e.image_url?(0,r.jsxs)("div",{className:"h-48 sm:h-40 md:h-48 relative overflow-hidden",children:[(0,r.jsx)(o(),{src:h(e.image_url)||"/placeholder.png",alt:e.name,width:400,height:300,className:"w-full h-full object-cover"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300"})]}):(0,r.jsx)("div",{className:"h-48 sm:h-40 md:h-48 bg-gray-100 flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-gray-400 text-xl",children:"Sem imagem"})}),(0,r.jsxs)("div",{className:"p-4 flex flex-col flex-1",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"font-bold text-gray-800 mb-1 text-lg",children:e.name}),e.description&&(0,r.jsx)("p",{className:"text-gray-500 text-sm",children:(0,d.aF)(e.description,70)})]}),(0,r.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,r.jsx)("span",{className:"font-bold text-lg bg-clip-text text-transparent bg-gradient-to-r from-primary to-primary-light",children:(0,d.xG)(e.price)}),(0,r.jsx)("button",{onClick:()=>y(e),className:"bg-gradient-to-r from-primary to-primary-light text-white rounded-full w-10 h-10 flex items-center justify-center shadow-sm hover:shadow-md hover:scale-105 transition-all duration-200","aria-label":"Adicionar ao carrinho",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]})]})]},e.id))})]})})]}),(0,r.jsx)("div",{className:"fixed bottom-0 w-full bg-white z-20 md:hidden shadow-[0_-2px_10px_rgba(0,0,0,0.1)]",children:(0,r.jsxs)("div",{className:"flex items-center justify-around",children:[(0,r.jsxs)(l(),{href:"/",className:"flex flex-col items-center justify-center py-3 flex-1 text-gray-500",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7m-14 0l2 2m0 0l7 7 7-7m-14 0l2-2"})}),(0,r.jsx)("span",{className:"text-xs font-medium mt-1",children:"In\xedcio"})]}),(0,r.jsxs)(l(),{href:"/cart",className:"flex flex-col items-center justify-center py-3 flex-1 text-gray-500",children:[(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,r.jsx)("span",{className:"text-xs font-medium mt-1",children:"Carrinho"})]}),(0,r.jsxs)(l(),{href:"/search",className:"flex flex-col items-center justify-center py-3 flex-1 text-primary",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,r.jsx)("span",{className:"text-xs font-medium mt-1",children:"Buscar"})]})]})})]})}},7823:function(e,t,s){"use strict";s.d(t,{OQ:function(){return i}});var r=s(4756);let i=(0,r.eI)("https://tcbketwbrlawpbktasva.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRjYmtldHdicmxhd3Bia3Rhc3ZhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc1ODMzOTUsImV4cCI6MjA2MzE1OTM5NX0.ZSsKVOAlZj9GdYkS0a5kD7w1qE63ag86KfXVo3hnXzA",{auth:{persistSession:!0,autoRefreshToken:!0},global:{headers:{}}})},345:function(e,t,s){"use strict";s.d(t,{Ix:function(){return n},WF:function(){return i},aF:function(){return l},xG:function(){return a}});var r=s(7823);let i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFHGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDYgNzkuMTY0NzUzLCAyMDIxLzAyLzE1LTExOjUyOjEzICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjIuMyAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjEtMDQtMTlUMTM6Mzc6MTQrMDE6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIxLTA0LTE5VDEzOjM4OjQyKzAxOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIxLTA0LTE5VDEzOjM4OjQyKzAxOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmM5ZDZlODQxLWIyYjYtNGIxYS1hYjQ2LTBhNjU5ZGIxYmY5OSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpjOWQ2ZTg0MS1iMmI2LTRiMWEtYWI0Ni0wYTY1OWRiMWJmOTkiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpjOWQ2ZTg0MS1iMmI2LTRiMWEtYWI0Ni0wYTY1OWRiMWJmOTkiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmM5ZDZlODQxLWIyYjYtNGIxYS1hYjQ2LTBhNjU5ZGIxYmY5OSIgc3RFdnQ6d2hlbj0iMjAyMS0wNC0xOVQxMzozNzoxNCswMTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIyLjMgKE1hY2ludG9zaCkiLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+f+lkGAAAALRJREFUeJzt0cENwDAIADFE0/0H6yhkgHug57OzKmk7M9sB3LXeCeyZkDgmJI4JiWNC4piQOCYkjgmJY0LimJA4JiSOCYljQuKYkDgmJI4JiWNC4piQOCYkjgmJY0LimJA4JiSOCYljQuKYkDgmJI4JiWNC4piQOCYkjgmJY0LimJA4JiSOCYljQuKYkDgmJI4JiWNC4piQOCYkjgmJY0LimJA4JiSOCYljQuKYkDg/nxMKXAp7CKEAAAAASUVORK5CYII=";function a(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}function l(e,t){return e.length<=t?e:e.slice(0,t)+"..."}async function n(e,t,s){try{let i="".concat(Date.now(),"_").concat(e.name.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/--+/g,"-").trim()),a=s?"".concat(s,"/").concat(i):i,{data:l,error:n}=await r.OQ.storage.from(t).upload(a,e,{cacheControl:"3600",upsert:!1});if(n)throw n;let{data:o}=r.OQ.storage.from(t).getPublicUrl(a);return o.publicUrl}catch(e){return console.error("Erro ao fazer upload da imagem:",e),console.warn("Usando imagem placeholder como fallback"),i}}},8800:function(e,t,s){"use strict";s.d(t,{x:function(){return a}});var r=s(4660),i=s(4810);let a=(0,r.Ue)()((0,i.tJ)((e,t)=>({items:[],addItem:s=>{let r=t().items,i=r.find(e=>e.id===s.id);if(i)return e({items:r.map(e=>e.id===s.id?{...e,quantity:e.quantity+1}:e)});e({items:[...r,{...s,quantity:1}]})},removeItem:s=>{e({items:t().items.filter(e=>e.id!==s)})},updateQuantity:(s,r)=>{if(r<=0)return t().removeItem(s);e({items:t().items.map(e=>e.id===s?{...e,quantity:r}:e)})},clearCart:()=>e({items:[]}),get total(){return t().items.reduce((e,t)=>e+t.price*t.quantity,0)}}),{name:"cart-storage"}))}},function(e){e.O(0,[36,847,691,166,971,472,744],function(){return e(e.s=5568)}),_N_E=e.O()}]);